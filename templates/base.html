<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{% block title %}ECC Chat{% endblock %}</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --muted:#9ca3af; --accent:#5865f2; --accent-2:#2ea44f; --glass: rgba(255,255,255,0.04);
      --maxw:1100px;
    }
    [data-theme="light"]{
      --bg:#f6f8fb; --card:#fff; --muted:#374151; --accent:#2563eb; --accent-2:#16a34a; --glass: rgba(0,0,0,0.04);
    }
    html,body{height:100%; margin:0; font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:linear-gradient(180deg,var(--bg), #071029 80%); color:var(--muted);}
    .container{max-width:var(--maxw); margin:0 auto; padding:36px 20px;}
    .topbar{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:28px;}
    .brand{display:flex; align-items:center; gap:12px; color:white; font-weight:700; font-size:1.15rem;}
    .logo{width:36px; height:36px; border-radius:8px; background:linear-gradient(135deg,var(--accent), #7c5cff); display:inline-block;}
    .nav{display:flex; gap:12px; align-items:center;}
    .nav a{color:var(--muted); text-decoration:none; padding:8px 12px; border-radius:8px; font-weight:600;}
    .ctas{display:flex; gap:10px; align-items:center;}
    .btn{background:var(--accent); color:white; border:none; padding:10px 14px; border-radius:8px; cursor:pointer; font-weight:700; text-decoration:none;}
    .btn.alt{background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.06);}
    .footer{margin-top:48px; padding:24px 0; color:var(--muted); display:flex; justify-content:space-between; align-items:center; gap:12px;}
    .note{font-size:0.9rem;}
  </style>
</head>
<body data-theme="dark">
  <div class="container">
    <header class="topbar" role="banner">
      <div class="brand" aria-hidden="true">
        <span class="logo" aria-hidden="true"></span>
        <span>ECC Chat</span>
      </div>

      <nav class="nav" aria-label="Primary">
        <a href="#features">Features</a>
        <a href="#security">Security</a>
        <a href="#pricing">Pricing</a>
      </nav>

      <div class="ctas">
        <button id="themeToggle" class="btn alt" aria-label="Toggle theme">Light</button>
        <a href="/signup" class="btn">Sign up</a>
        <a href="/login" class="btn alt">Log in</a>
      </div>
    </header>

    {% block content %}{% endblock %}

    <footer class="footer" role="contentinfo">
      <div class="note">© <strong>ECC Chat</strong> — Built with privacy in mind.</div>
      <div style="display:flex; gap:12px; align-items:center;">
        <a href="/docs" class="note" style="color:var(--muted); text-decoration:none;">Docs</a>
        <a href="/terms" class="note" style="color:var(--muted); text-decoration:none;">Terms</a>
      </div>
    </footer>
  </div>

  <script>
    (function(){
      const btn = document.getElementById('themeToggle');
      const root = document.body;
      const saved = localStorage.getItem('ecc_theme');
      if(saved) root.setAttribute('data-theme', saved);
      function updateLabel(){ btn.textContent = (root.getAttribute('data-theme') === 'light') ? 'Dark' : 'Light'; }
      updateLabel();
      if(btn) btn.addEventListener('click', ()=>{
        const cur = root.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
        root.setAttribute('data-theme', cur);
        localStorage.setItem('ecc_theme', cur);
        updateLabel();
      });
    })();
  </script>
</body>
</html>
